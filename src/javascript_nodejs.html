<html> 
<head>
<link href="../css/style.css" rel="stylesheet" type="text/css" media="screen" /> 
<link href="../css/menu.css" rel="stylesheet" type="text/css" media="screen" /> 
<title>NodeJs</title> 
</head> 
<body> 
<div class='page'>
 <div class='head' align=center>
 </div>

 <div class='menu' align=center>
<ul id="nav">
    <li>
        <a href="../index.html" title="">Главная</a>
    </li>
    <li>
        <a href="inform.html" title="">Информация</a>
    </li>
   <li>
        <a href="#" title="">Учебник</a>
        <ul>
            <li><a href="javascript_nodejs.html">JavaScript и Node.js</a></li>
            <li><a href="#">Веб-приложение с Node.js</a></li>
            <li><a href="#">Реализация приложения</a></li>
            <li><a href="#">Обработка загрузки файлов</a></li>
            <li><a href="#">Обработка POST-запросов</a></li>
	    <li><a href="#">Выводы и перспективы</a></li>
        </ul>
    </li>
     <li>
        <a href="#" title="">О сайте</a>
    </li>

</ul>

 </div>


<div class='content'>
<div align=center>
  
<h1>JavaScript и Node.js</h1>
 
До того как мы поговорим о технических вещах, 
позвольте занять некоторое время и поговорить 
о вас и ваших отношениях с JavaScript. Эта глава 
позволит вам понять, имеет ли смысл читать дальше. 
Скорее всего, как и в моем случае, вы начали свой путь 
в веб-разработке с написания простых статических HTML-документов.  
Вместе с этим, вы познакомились с веселой штукой, называемой JavaScript, но  
использовали его исключительно в простых случаях, добавляя интерактивности на  
ваши веб-странички. 
Что вы хотели узнать — так это действительно полезные  
вещи; вы хотели знать, как создать сложный сайт. 
Для этого вы изучали PHP, Ruby, Java и начинали писать backend-код. 
Тем не менее, вы постоянно следили за JavaScript, вы видели,  
что с появлениям JQuery, Prototype и других фреймворков этот язык стал больше, 
чем просто window.open(). 
Однако, это всё ещё относилось к frontend-разработке. Конечно,  
jQuery — очень мощный инструмент, но всякий раз, когда вы приправляли ваш сайт  
разными jQuery-«фишками», в лучшем случае, вы были JavaScript-пользователем нежели JavaScript-разработчиком. 
А потом пришел Node.js. JavaScript на сервере: насколько это хорошо? 
И вы решили, что пора проверить старый новый JavaScript. Подождите.  
Написать Node.js приложение — одно дело, а понять, почему оно должно  
быть написано таким образом, для этого нужно понимать JavaScript.  
И на этот раз — по-настоящему. 
В этом — как раз и проблема. JavaScript живёт двумя, может даже тремя 
разными жизнями: весёлый маленький DHMTL-помощник из середины 90-х годов, 
более серьезный frontend-инструмент в лице jQuery и наконец  
серверный (server-side, backend) JavaScript. По этой причине не так просто  
найти информацию, которая поможет вам познать правильный JavaScript, пригодный 
для написания Node.js приложения в манере, дающий ощущение, что вы не просто  
использовали JavaScript, а действительно разрабатывали на JavaScript. 
Это — наиболее правильный подход. Вы — уже опытный разработчик, вы не 
хотите изучать новые технологии поверхностно, просто валяя дурака. 
Вы хотите быть уверенным, что вы подходите к проблеме под правильным углом. 
Конечно, существует отличная документация по Node.js, но её зачастую недостаточно. 
Нужно руководство. 
Моя цель заключается в обеспечении вас руководством.<br/>
<h3>Предупреждение</h3> <br/>
Существуют действительно отличные специалисты в области JavaScript. Я не из их числа.
Я — действительно, тот парень, о котором написано в предыдущем параграфе. Я знаю кое-что о разработке backend веб-приложений, но я всё ещё новичок в «реальном» JavaScript и всё ещё новичок в Node.js. Я узнал некоторые продвинутые аспекты JavaScript совсем недавно. Я неопытен.
Вот почему эта книга не из разряда «от новичка к эксперту», а скорее «от новичка к продвинутому новичку».
Если всё удастся, то этот документ станет тем руководством, которое я хотел бы иметь, когда начинал в Node.js.
<br/><h3>Server-side JavaScript</h3><br/>
Первая инкарнация JavaScript жила в теле браузера. Но это всего лишь контекст. Он определяет, что вы можете делать с языком, но не говорит о том, что язык сам по себе может сделать. JavaScript это «полноценный» язык: вы можете использовать его в различных контекстах и достичь всего того, что можете достичь с другими «полноценными» языками.
Node.js — действительно, просто другой контекст: он позволяет вам запускать JavaScript-код вне браузера.
Чтобы ваш JavaScript код выполнился на вычислительной машине вне браузера (на backend), он должен быть интерпретирован и, конечно же, выполнен. Именно это и делает Node.js. Для этого он использует движок V8 VM от Google — ту же самую среду исполнения для JavaScript, которую использует браузер Google Chrome.
Кроме того, Node.js поставляется со множеством полезных модулей, так что вам не придется писать всё с нуля, как, например, вывод строки в консоль.
Таким образом, Node.js состоит из 2 вещей: среды исполнения и полезных библиотек.
Для того чтобы их использовать, вам необходимо установить Node.js. Вместо повторения всего процесса установки здесь, я просто приглашу вас посетить официальную инструкцию по инсталляции. Пожалуйста, вернитесь обратно после успешной установки.
<br/><h3>«Hello world»</h3><br/>
Хорошо, давайте пойдём сразу с места в карьер и напишем наше первое Node.js-приложение: «Hello world».
Откройте ваш любимый редактор и создайте файл под названиемhelloworld.js. Мы хотим вывести строку «Hello world» в консоль, для этого пишем следующий код:
console.log("Hello World");
Сохраняем файл и выполняем его посредством Node.js:
node helloworld.js
Это должно вывести Hello World на наш терминал.
Ладно, всё это скучно, правда? Давайте напишем что-нибудь полезное.
<br/><h3>Полномасштабное веб-приложение с Node.js
Что должно делать наше приложение</h3><br/>
Возьмём что-нибудь попроще, но приближенное к реальности:<br/>
•	Пользователь должен иметь возможность использовать наше приложение с браузером;<br/>
•	Пользователь должен видеть страницу приветствия по адресу http://domain/start;<br/>
•	Когда запрашивается http://domain/upload, пользователь должен иметь возможность загрузить картинку со своего компьютера и просмотреть её в своем браузере.<br/>
Вполне достаточно. Конечно, вы могли бы достичь этой цели, немного погуглив и поговнокодив. Но это не то, что нам нужно.
Кроме того, мы не хотим писать только простой код для достижения цели, каким бы он элегантным и корректным ни был. Мы будем интенсивно наращивать больше абстракции, чем это необходимо, чтобы понять как создавать более сложные Node.js-приложения.
<br/> <h3>Задачи</h3> <br/>
Давайте проанализируем наше приложение. Что нужно, чтобы его реализовать:
•	У нас — онлайн веб-приложение, поэтому нам нужен HTTP-сервер;
•	Нашему серверу необходимо обслуживать различные запросы в зависимости от URL, по которому был сделан запрос. Для этого нам нужен какой-нибудь роутер (маршрутизатор), чтобы иметь возможность направлять запросы определенным обработчикам;
•	Для выполнения запросов, пришедших на сервер и направляемые роутером, нам нужны действующие обработчики запросов;
•	Роутер, вероятно, должен иметь дело с разными входящими POST-данными и передавать их обработчикам запросов в удобной форме. Для этого нам нужен какой-нибудь обработчик входных данных;
•	Мы хотим не только обрабатывать запросы, но и показывать пользователю контент по запрошенным URL-адресам, поэтому нам нужна некая логика отображения для обработчиков запросов, чтобы иметь возможность отправлять контент пользовательскому браузеру;
•	Последнее, но не менее важное — пользователь сможет загружать картинки, поэтому нам нужен какой-нибудь обработчик загрузки, который возьмёт на себя заботу о деталях.
Давайте подумаем о том, как бы мы реализовали это на PHP. Скорее всего, типичное решение будет на HTTP-сервере Apache с установленным mod_php5. 
Это относится к первому пункту наших задач, то есть, «принимать HTTP-запросы и отправлять готовые веб-странички пользователю» — вещи, которые PHP сам не делает.
С Node.js — немного иначе. Потому что в Node.js мы не только создаем наше приложение, мы также реализуем полноценный HTTP-сервер. Действительно, наше веб-приложение и веб-сервер — в сущности, одно и тоже.
Может показаться, что это приведет к лишней работе, но сейчас вы увидите, что с Node.js это не так.
Давайте просто начнём реализовывать нашу первую задачу — HTTP-сервер.


</div>
 </div>
<div class='foot' align=center>
NodeJs © 2013
 </div>
</div>
</body> 
</html>